{% load static %}

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EstratiView {% block title %} - Sign in {% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}" />
    <link rel="stylesheet" href="{% static 'css/auth/style.css' %}" />
    <link
      rel="shortcut icon"
      href="{% static 'images/favicon.ico' %}"
      type="image/x-icon"
    />
    <script src="{% static 'fontawesomefree/js/all.min.js' %}"></script>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  </head>
  <body>
    <main>
      {% block content %}
      <form
        class="bg-white px-4 py-3 d-flex flex-column rounded shadow"
        method="POST"
      >
        {% csrf_token %}

        <div class="mb-3 text-center">
          <img
            src="{% static 'images/lgstratimex.webp' %}"
            class="logo"
            alt="Logo Stratimex"
          />
        </div>

        <!-- Campo email con ícono -->
        <div class="mb-3 position-relative">
          <label for="email" class="form-label">Correo electrónico</label>
          <div class="input-group" style="width: 400px;">
            <span class="input-group-text"
              ><i class="fas fa-envelope"></i
            ></span>
            <input
              type="email"
              class="form-control"
              id="email"
              value="{{ email }}"
              name="email"
              placeholder="ejemplo@erdm.mx"
            />
          </div>
        </div>

        <!-- Campo contraseña con ícono -->
        <div class="mb-3 position-relative">
          <label for="password" class="form-label">Contraseña</label>
          <div class="input-group" style="width: 400px;">
            <span class="input-group-text"><i class="fas fa-lock"></i></span>
            <input
              type="password"
              class="form-control"
              id="password"
              name="password"
              placeholder="********"
            />
            <button type="button" class="btn btn-outline-secondary toggle-password" data-target="password">
              <i class="fa-solid fa-eye"></i>
            </button>
          </div>
        </div>
        <div style="text-align: center;" id="message">
          {% if messages %}
            {% for message in messages %}
              {% if forloop.first %}
                <p class="message-{{ message.tags }}">{{ message }}</p>
              {% endif %}
            {% endfor %}
          {% endif %}
        </div>
        <!-- Botón con ícono -->
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-sign-in-alt me-2"></i> 
          Iniciar sesión
        </button>
      </form>
      {% endblock %}
    </main>

    <footer class="bg-dark text-center" data-bs-theme="dark">
      <p>&copy; 2025 Estrategas de México</p>
    </footer>
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/auth/form.js' %}"></script>
    <!-- Tiempo para eliminar el mensaje -->
    <script>
      alert = document.getElementById("message");
      if (alert) {
        setTimeout(() => {
          alert.style.display = "none";
        }, 4000);
      }
    </script>
  </body>
</html>
